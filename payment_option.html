<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Payment Option</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div class="bg-white p-10 rounded-xl shadow-lg w-full max-w-xl min-h-[400px] transform scale-[1.3]">
    <h2 class="text-2xl font-bold mb-6 text-center text-blue-600">Payment Option</h2>

    <!-- UPI Payment Box -->
    <div class="border border-gray-300 rounded-md p-4 mb-4">
      <label class="inline-flex items-center">
        <input type="radio" name="payment" value="upi" onclick="selectMethod('upi')" class="form-radio mr-2">
        Pay with UPI
      </label>
    </div>

    <!-- Other Methods Box -->
    <div class="border border-gray-300 rounded-md p-4">
      <p class="text-sm font-semibold mb-2">Other Methods</p>

      <div class="flex flex-col space-y-2">
        <div class="flex items-center">
          <label id="codLabel" class="inline-flex items-center">
            <input type="radio" id="codOption" name="payment" value="cod" onclick="selectMethod('cod')" class="form-radio mr-2">
            Cash on Delivery (COD)
          </label>
          <span id="infoIcon" class="ml-2 cursor-pointer text-blue-500 hidden" onclick="toggleInfoBox(event)">ℹ️</span>
        </div>
        <div id="infoBox" class="text-xs bg-yellow-100 border border-yellow-400 text-yellow-700 p-2 rounded mt-1 hidden">
          COD Only available in 673645 and 673639
        </div>

        <label class="inline-flex items-center">
          <input type="radio" name="payment" value="netbanking" onclick="selectMethod('netbanking')" class="form-radio mr-2">
          Net Banking
        </label>
      </div>
    </div>

    <!-- Pincode Field (Hidden by Default) -->
    <div id="pincodeField" class="mt-4 hidden">
      <label for="pincode" class="block text-sm font-medium mb-1">Enter Pincode:</label>
      <input type="text" id="pincode" class="w-full border border-gray-300 rounded px-3 py-2" oninput="validatePincode(this.value)" placeholder="e.g. 673645" />
    </div>

    <!-- Continue Button -->
    <a href="place_your_order.html" class="block mt-6 bg-green-600 text-white text-center py-2 rounded hover:bg-green-700">Continue</a>
  </div>

  <script>
    function selectMethod(method) {
      const pincodeField = document.getElementById('pincodeField');
      const infoIcon = document.getElementById('infoIcon');
      const infoBox = document.getElementById('infoBox');

      if (method === 'cod') {
        pincodeField.classList.remove("hidden");
        infoIcon.classList.add("hidden");
        infoBox.classList.add("hidden");
      } else {
        pincodeField.classList.add("hidden");
        infoIcon.classList.add("hidden");
        infoBox.classList.add("hidden");
      }
    }

    function validatePincode(value) {
      const codOption = document.getElementById('codOption');
      const infoIcon = document.getElementById('infoIcon');
      const infoBox = document.getElementById('infoBox');
      const pincodeInput = document.getElementById('pincode');

      if (value === "673645" || value === "673639") {
        codOption.disabled = false;
        codOption.checked = true;
        infoIcon.classList.add("hidden");
        infoBox.classList.add("hidden");
      } else if (value.length >= 6) {
        infoIcon.classList.remove("hidden");
        infoBox.classList.add("hidden");

        setTimeout(() => {
          pincodeInput.value = "";
          pincodeInput.focus();
        }, 300);
      } else {
        infoIcon.classList.add("hidden");
        infoBox.classList.add("hidden");
      }
    }

    function toggleInfoBox(event) {
      event.stopPropagation();
      const box = document.getElementById('infoBox');
      box.classList.toggle("hidden");
    }

    document.addEventListener("click", function (event) {
      const infoBox = document.getElementById('infoBox');
      const icon = document.getElementById('infoIcon');
      if (!infoBox.contains(event.target) && !icon.contains(event.target)) {
        infoBox.classList.add("hidden");
      }
    });
  </script>
</body>
</html>

